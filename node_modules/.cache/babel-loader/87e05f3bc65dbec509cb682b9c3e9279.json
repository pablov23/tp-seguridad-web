{"ast":null,"code":"var _jsxFileName = \"/Users/pveron/Documents/facu/React-Banking-App/src/Pages/LoanApplicationFormPage/LoanApplicationFormPage.js\";\nimport React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { Persist } from 'formik-persist';\nimport { backendUrl } from '../../auth';\nimport { toast } from 'react-toastify';\nimport FormNavigationControl from './FormNavigationControl/FormNavigationControl';\nimport './LoanApplicationFormPage.css';\n\nconst ErrorChecker = values => {\n  let errors = {}; // First Name Validation\n\n  values.firstname = values.firstname.trim();\n\n  if (!values.firstname) {\n    errors.firstname = 'Required';\n  } else if (values.firstname.search(/[^a-zA-Z]/g) !== -1) {\n    errors.firstname = 'Only alphabets can be used';\n  } else if (values.firstname.length > 30) {\n    errors.firstname = \"Too big, only 30 characters allowed\";\n  } // Last Name Validation\n\n\n  values.lastname = values.lastname.trim();\n\n  if (!values.lastname) {\n    errors.lastname = 'Required';\n  } else if (values.lastname.search(/[^a-zA-Z]/g) !== -1) {\n    errors.lastname = 'Only alphabets can be used';\n  } else if (values.lastname.length > 30) {\n    errors.lastname = \"Too big, only 30 characters allowed\";\n  } // Mobile Number Validation\n\n\n  values.mobile = values.mobile.trim();\n\n  if (!values.mobile) {\n    errors.mobile = 'Required';\n  } else if (values.mobile.search(/[^+0-9]/g) !== -1) {\n    errors.mobile = 'Invalid Number';\n  } else if (values.mobile.length > 13) {\n    errors.mobile = \"Invalid Number, too long\";\n  } // Email Validation\n\n\n  values.email = values.email.trim();\n\n  if (!values.email) {\n    errors.email = 'Required';\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n    errors.email = 'Invalid email address';\n  } // Address Validation\n\n\n  values.address = values.address.trim();\n\n  if (!values.address) {\n    errors.address = 'Required';\n  } else if (values.address.search(/[^a-zA-Z0-9- ]/g) !== -1) {\n    errors.address = 'Only alphanumeric is allowed';\n  } // Gender Validation\n\n\n  values.gender = values.gender.trim();\n\n  if (!values.gender) {\n    errors.gender = 'Required';\n  } else if (!['male', 'female', 'other'].includes(values.gender)) {\n    errors.gender = 'Invalid gender, what are you doing out there';\n  } // Date of Birth Validation  \n\n\n  values.date = values.date.trim();\n\n  if (!values.date) {\n    errors.date = 'Required';\n  } else if (values.date.search(/[^0-9]/g) !== -1) {\n    errors.date = 'Only numbers is allowed';\n  } else if (parseInt(values.date) < 1 || parseInt(values.date) > 31) {\n    errors.date = 'Please Pick a value between 1 and 31';\n  } // Month of Birth Validation\n\n\n  values.month = values.month.trim();\n\n  if (!values.month) {\n    errors.month = 'Required';\n  } else if (values.month.search(/[^0-9]/g) !== -1) {\n    errors.month = 'Only numbers is allowed';\n  } else if (parseInt(values.month) < 1 || parseInt(values.month) > 12) {\n    errors.month = 'Please Pick a value between 1 and 12';\n  } // Year Validation \n\n\n  values.year = values.year.trim();\n\n  if (!values.year) {\n    errors.year = 'Required';\n  } else if (values.year.search(/[^0-9]/g) !== -1) {\n    errors.year = 'Only numbers is allowed';\n  } else if (values.year.length !== 4 || isNaN(parseInt(values.year))) {\n    errors.year = 'Are you sure about that';\n  } else if (new Date(values.year) > new Date()) {\n    errors.year = 'Hahaha very funny !!!';\n  } // Annual Income Validation \n\n\n  values.annualIncome = values.annualIncome.trim();\n\n  if (!values.annualIncome) {\n    errors.annualIncome = 'Required';\n  } else if (values.annualIncome.search(/[^0-9]/g) !== -1) {\n    errors.annualIncome = 'Only numbers is allowed';\n  } // Loan Amount Required Validation \n\n\n  values.loanAmountRequired = values.loanAmountRequired.trim();\n\n  if (!values.loanAmountRequired) {\n    errors.loanAmountRequired = 'Required';\n  } else if (values.loanAmountRequired.search(/[^0-9]/g) !== -1) {\n    errors.loanAmountRequired = 'Only numbers is allowed';\n  } // Tenure Validation \n\n\n  values.tenure = values.tenure.trim();\n\n  if (!values.tenure) {\n    errors.tenure = 'Required';\n  } else if (values.tenure.search(/[^0-9]/g) !== -1) {\n    errors.tenure = 'Only numbers is allowed';\n  }\n\n  return errors;\n};\n\nconst FormLayout = ({\n  isSubmitting,\n  toggleInViewPart,\n  isVisible,\n  values,\n  errors\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"formContent fadeIn fadeIn-first\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"h2\", {\n  className: \"active\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }\n}, \" Loan Application Form \"), /*#__PURE__*/React.createElement(Form, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"firstStepLoanForm\",\n  className: isVisible.call(this, 1),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"text\",\n  className: \"fadeIn fadeIn-second\",\n  name: \"firstname\",\n  placeholder: \"First Name\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"firstname\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(Field, {\n  type: \"text\",\n  className: \"fadeIn fadeIn-second\",\n  name: \"lastname\",\n  placeholder: \"Last Name\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"lastname\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(Field, {\n  type: \"text\",\n  className: \"fadeIn fadeIn-second\",\n  name: \"mobile\",\n  placeholder: \"Mobile Number\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"mobile\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(Field, {\n  type: \"email\",\n  className: \"fadeIn fadeIn-second\",\n  name: \"email\",\n  placeholder: \"Email\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"email\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(Field, {\n  type: \"text\",\n  className: \"fadeIn fadeIn-second\",\n  name: \"address\",\n  placeholder: \"Address - Country\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"address\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(FormNavigationControl, {\n  fTitle: \"Next\",\n  bTitle: \"\",\n  bClass: \"button-hidden\",\n  fToggleFormView: () => {\n    let t = ['firstname', 'lastname', 'mobile', 'email', 'address'].some(el => {\n      return Object.keys(errors).includes(el);\n    });\n\n    if (t) {\n      toast('You need to provide valid input');\n      return;\n    }\n\n    ; // if(Object.keys(errors).length > 0) return;\n\n    errors = {};\n    toggleInViewPart(2);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 9\n  }\n})), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"secondStepLoanForm\",\n  className: isVisible.call(this, 2),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"container-application-form fadeIn fadeIn-second\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 11\n  }\n}, \"Choose your Gender\"), /*#__PURE__*/React.createElement(\"ul\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 11\n  }\n}, /*#__PURE__*/React.createElement(\"li\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"radio\",\n  id: \"f-option\",\n  name: \"gender\",\n  value: \"male\",\n  checked: values.gender === \"male\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 15\n  }\n}), /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: \"f-option\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 15\n  }\n}, \"Male\"), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"check\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 15\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"inside\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 38\n  }\n}))), /*#__PURE__*/React.createElement(\"li\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"radio\",\n  id: \"s-option\",\n  name: \"gender\",\n  value: \"female\",\n  checked: values.gender === \"female\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 15\n  }\n}), /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: \"s-option\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 15\n  }\n}, \"Female\"), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"check\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 15\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"inside\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 38\n  }\n}))), /*#__PURE__*/React.createElement(\"li\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"radio\",\n  id: \"t-option\",\n  name: \"gender\",\n  value: \"other\",\n  checked: values.gender === \"other\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 15\n  }\n}), /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: \"t-option\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 15\n  }\n}, \"Other\"), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"check\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 15\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"inside\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 38\n  }\n}))))), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"gender\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"form-group fadeIn fadeIn-second\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: \"DOB\",\n  className: \"label\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 11\n  }\n}, \"Enter Date of Birth\"), /*#__PURE__*/React.createElement(Field, {\n  type: \"text\",\n  className: \"fadeIn-second\",\n  name: \"date\",\n  placeholder: \"Date Numeric (1 - 31)\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 11\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"date\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 11\n  }\n}), /*#__PURE__*/React.createElement(Field, {\n  type: \"text\",\n  className: \"fadeIn-second\",\n  name: \"month\",\n  placeholder: \"Month Numeric (1 - 12)\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 11\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"month\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 11\n  }\n}), /*#__PURE__*/React.createElement(Field, {\n  type: \"text\",\n  className: \"fadeIn-second\",\n  name: \"year\",\n  placeholder: \"Year Numeric (e.g 1998)\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 11\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"year\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 11\n  }\n}), /*#__PURE__*/React.createElement(FormNavigationControl, {\n  fTitle: \"Next\",\n  bTitle: \"Back\",\n  fToggleFormView: () => {\n    let t = ['gender', 'date', 'month', 'year'].some(el => {\n      return Object.keys(errors).includes(el);\n    });\n\n    if (t) {\n      toast('You need to provide valid input');\n      return;\n    }\n\n    ; // if(Object.keys(errors).length > 0) return;\n\n    errors = {};\n    toggleInViewPart(3);\n  },\n  bToggleFormView: () => {\n    toggleInViewPart(1);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 11\n  }\n}))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"thirdStepLoanForm\",\n  className: isVisible.call(this, 3),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"text\",\n  className: \"fadeIn fadeIn-first\",\n  name: \"annualIncome\",\n  placeholder: \"Your Annual Income\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"annualIncome\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(Field, {\n  type: \"text\",\n  className: \"fadeIn fadeIn-second\",\n  name: \"loanAmountRequired\",\n  placeholder: \"Loan Amount Required\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"loanAmountRequired\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(Field, {\n  type: \"text\",\n  className: \"fadeIn fadeIn-second\",\n  name: \"tenure\",\n  placeholder: \"Tenure(In Days)\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(ErrorMessage, {\n  name: \"tenure\",\n  component: \"div\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(\"button\", {\n  type: \"submit\",\n  className: `button button-large fadeIn-third`,\n  disabled: isSubmitting,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 9\n  }\n}, \"Apply\"), /*#__PURE__*/React.createElement(Persist, {\n  name: \"loan-form\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 9\n  }\n}))));\n\nclass LoanApplicationFormPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      inViewPart: 1\n    };\n\n    this.toggleInViewPart = num => {\n      this.setState({\n        inViewPart: num\n      });\n    };\n\n    this.isVisible = num => {\n      if (num === this.state.inViewPart) {\n        return 'in-view';\n      }\n\n      return 'off-view';\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.location.state) {\n      localStorage.setItem('loan-form-id', this.props.location.state.form_id);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Formik, {\n      initialValues: {\n        firstname: '',\n        lastname: '',\n        mobile: '',\n        email: '',\n        address: '',\n        gender: '',\n        date: '',\n        month: '',\n        year: '',\n        annualIncome: '',\n        loanAmountRequired: '',\n        tenure: ''\n      },\n      validate: ErrorChecker,\n      onSubmit: (values, {\n        setSubmitting\n      }) => {\n        let formId = localStorage.getItem('loan-form-id');\n\n        if (formId) {\n          fetch(`${backendUrl()}/loan/update`, {\n            method: 'POST',\n            mode: 'cors',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${localStorage.getItem('token')}`\n            },\n            body: JSON.stringify({\n              'data': localStorage.getItem('loan-form'),\n              'status': 1,\n              'id': formId\n            })\n          }).then(res => res.json()).then(data => {\n            if (data['success']) {\n              toast.info('Data Saved Successfully', {\n                position: toast.POSITION.BOTTOM_CENTER\n              });\n\n              if (data['token']) {\n                localStorage.setItem('token', data['token']);\n              }\n            } else {\n              toast.info(`Error(${data['msg']}) in saving data, you have been logged out`, {\n                position: toast.POSITION.BOTTOM_CENTER\n              });\n            }\n          }).catch(err => {\n            toast('Something went wrong, Internet might be down');\n          });\n        } else {\n          fetch(`${backendUrl()}/loan/apply`, {\n            method: 'POST',\n            mode: 'cors',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${localStorage.getItem('token')}`\n            },\n            body: JSON.stringify({\n              'data': localStorage.getItem('loan-form'),\n              'status': 1,\n              'user_id': localStorage.getItem('user_id')\n            })\n          }).then(res => res.json()).then(data => {\n            if (data['success']) {\n              toast.success('Data Saved Successfully');\n\n              if (data['token']) {\n                localStorage.setItem('token', data['token']);\n              }\n\n              setSubmitting(false);\n              this.props.history.push('/home');\n            } else {\n              toast.info(`Error(${data['msg']}) in saving data`);\n              setSubmitting(false);\n            }\n          }).catch(err => {\n            toast.error('Something went wrong, please check your connection');\n            setSubmitting(false);\n          });\n        }\n      },\n      render: props => /*#__PURE__*/React.createElement(FormLayout, Object.assign({\n        toggleInViewPart: this.toggleInViewPart,\n        isVisible: this.isVisible\n      }, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 26\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\n;\nexport default LoanApplicationFormPage;","map":{"version":3,"sources":["/Users/pveron/Documents/facu/React-Banking-App/src/Pages/LoanApplicationFormPage/LoanApplicationFormPage.js"],"names":["React","Formik","Form","Field","ErrorMessage","Persist","backendUrl","toast","FormNavigationControl","ErrorChecker","values","errors","firstname","trim","search","length","lastname","mobile","email","test","address","gender","includes","date","parseInt","month","year","isNaN","Date","annualIncome","loanAmountRequired","tenure","FormLayout","isSubmitting","toggleInViewPart","isVisible","call","t","some","el","Object","keys","LoanApplicationFormPage","Component","state","inViewPart","num","setState","componentDidMount","props","location","localStorage","setItem","form_id","render","setSubmitting","formId","getItem","fetch","method","mode","headers","body","JSON","stringify","then","res","json","data","info","position","POSITION","BOTTOM_CENTER","catch","err","success","history","push","error"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { Persist } from 'formik-persist';\nimport { backendUrl } from '../../auth';\nimport { toast } from 'react-toastify';\nimport FormNavigationControl from './FormNavigationControl/FormNavigationControl';\nimport './LoanApplicationFormPage.css';\n\nconst ErrorChecker = (values) => {\n  let errors = {};\n\n  // First Name Validation\n  values.firstname = values.firstname.trim();\n  if (!values.firstname) {\n    errors.firstname = 'Required';\n  } else if (values.firstname.search(/[^a-zA-Z]/g) !== -1) {\n    errors.firstname = 'Only alphabets can be used';\n  } else if (values.firstname.length > 30) {\n    errors.firstname = \"Too big, only 30 characters allowed\";\n  }\n\n  // Last Name Validation\n  values.lastname = values.lastname.trim();\n  if (!values.lastname) {\n    errors.lastname = 'Required';\n  } else if (values.lastname.search(/[^a-zA-Z]/g) !== -1) {\n    errors.lastname = 'Only alphabets can be used';\n  } else if (values.lastname.length > 30) {\n    errors.lastname = \"Too big, only 30 characters allowed\";\n  }\n\n  // Mobile Number Validation\n  values.mobile = values.mobile.trim();\n  if (!values.mobile) {\n    errors.mobile = 'Required';\n  } else if (values.mobile.search(/[^+0-9]/g) !== -1) {\n    errors.mobile = 'Invalid Number';\n  } else if (values.mobile.length > 13) {\n    errors.mobile = \"Invalid Number, too long\";\n  }\n\n  // Email Validation\n  values.email = values.email.trim();\n  if (!values.email) {\n    errors.email = 'Required';\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n    errors.email = 'Invalid email address';\n  }\n\n  // Address Validation\n  values.address = values.address.trim();\n  if (!values.address) {\n    errors.address = 'Required';\n  } else if (values.address.search(/[^a-zA-Z0-9- ]/g) !== -1) {\n    errors.address = 'Only alphanumeric is allowed';\n  }\n\n  // Gender Validation\n  values.gender = values.gender.trim();\n  if (!values.gender) {\n    errors.gender = 'Required';\n  } else if (!['male', 'female', 'other'].includes(values.gender)) {\n    errors.gender = 'Invalid gender, what are you doing out there';\n  }\n\n  // Date of Birth Validation  \n  values.date = values.date.trim();\n  if (!values.date) {\n    errors.date = 'Required';\n  } else if (values.date.search(/[^0-9]/g) !== -1) {\n    errors.date = 'Only numbers is allowed';\n  } else if (parseInt(values.date) < 1 || parseInt(values.date) > 31) {\n    errors.date = 'Please Pick a value between 1 and 31';\n  }\n\n  // Month of Birth Validation\n  values.month = values.month.trim();\n  if (!values.month) {\n    errors.month = 'Required';\n  } else if (values.month.search(/[^0-9]/g) !== -1) {\n    errors.month = 'Only numbers is allowed';\n  } else if (parseInt(values.month) < 1 || parseInt(values.month) > 12) {\n    errors.month = 'Please Pick a value between 1 and 12';\n  }\n\n  // Year Validation \n  values.year = values.year.trim();\n  if (!values.year) {\n    errors.year = 'Required';\n  } else if (values.year.search(/[^0-9]/g) !== -1) {\n    errors.year = 'Only numbers is allowed';\n  } else if (values.year.length !== 4 || isNaN(parseInt(values.year))) {\n    errors.year = 'Are you sure about that';\n  } else if (new Date(values.year) > new Date()) {\n    errors.year = 'Hahaha very funny !!!';\n  }\n\n  // Annual Income Validation \n  values.annualIncome = values.annualIncome.trim();\n  if (!values.annualIncome) {\n    errors.annualIncome = 'Required';\n  } else if (values.annualIncome.search(/[^0-9]/g) !== -1) {\n    errors.annualIncome = 'Only numbers is allowed';\n  }\n\n  // Loan Amount Required Validation \n  values.loanAmountRequired = values.loanAmountRequired.trim();\n  if (!values.loanAmountRequired) {\n    errors.loanAmountRequired = 'Required';\n  } else if (values.loanAmountRequired.search(/[^0-9]/g) !== -1) {\n    errors.loanAmountRequired = 'Only numbers is allowed';\n  }\n\n  // Tenure Validation \n  values.tenure = values.tenure.trim();\n  if (!values.tenure) {\n    errors.tenure = 'Required';\n  } else if (values.tenure.search(/[^0-9]/g) !== -1) {\n    errors.tenure = 'Only numbers is allowed';\n  }\n\n  return errors;\n}\n\nconst FormLayout = ({ isSubmitting, toggleInViewPart, isVisible, values, errors }) => (\n  <div className=\"formContent fadeIn fadeIn-first\">\n    <h2 className=\"active\"> Loan Application Form </h2>\n    <Form>\n      <div id=\"firstStepLoanForm\" className={isVisible.call(this, 1)}>\n        <Field type=\"text\" className=\"fadeIn fadeIn-second\"\n          name=\"firstname\" placeholder=\"First Name\" />\n        <ErrorMessage name=\"firstname\" component=\"div\" />\n\n        <Field type=\"text\" className=\"fadeIn fadeIn-second\"\n          name=\"lastname\" placeholder=\"Last Name\" />\n        <ErrorMessage name=\"lastname\" component=\"div\" />\n\n        <Field type=\"text\" className=\"fadeIn fadeIn-second\"\n          name=\"mobile\" placeholder=\"Mobile Number\" />\n        <ErrorMessage name=\"mobile\" component=\"div\" />\n\n        <Field type=\"email\" className=\"fadeIn fadeIn-second\"\n          name=\"email\" placeholder=\"Email\" />\n        <ErrorMessage name=\"email\" component=\"div\" />\n\n        <Field type=\"text\" className=\"fadeIn fadeIn-second\"\n          name=\"address\" placeholder=\"Address - Country\" />\n        <ErrorMessage name=\"address\" component=\"div\" />\n        <FormNavigationControl fTitle=\"Next\" bTitle=\"\" bClass=\"button-hidden\"\n          fToggleFormView={() => {\n            let t = ['firstname', 'lastname', 'mobile', 'email', 'address'].some(el => {\n              return Object.keys(errors).includes(el);\n            });\n            if (t) {\n              toast('You need to provide valid input');\n              return;\n            };\n            // if(Object.keys(errors).length > 0) return;\n            errors = {};\n            toggleInViewPart(2);\n          }} />\n      </div>\n      <div id=\"secondStepLoanForm\" className={isVisible.call(this, 2)}>\n        <div className=\"container-application-form fadeIn fadeIn-second\">\n          <h2>Choose your Gender</h2>\n          <ul>\n            <li>\n              <Field type=\"radio\" id=\"f-option\" name=\"gender\" value=\"male\" checked={values.gender === \"male\"} />\n              <label htmlFor=\"f-option\">Male</label>\n              <div className=\"check\"><div className=\"inside\"></div></div>\n            </li>\n\n            <li>\n              <Field type=\"radio\" id=\"s-option\" name=\"gender\" value=\"female\" checked={values.gender === \"female\"} />\n              <label htmlFor=\"s-option\">Female</label>\n              <div className=\"check\"><div className=\"inside\"></div></div>\n            </li>\n\n            <li>\n              <Field type=\"radio\" id=\"t-option\" name=\"gender\" value=\"other\" checked={values.gender === \"other\"} />\n              <label htmlFor=\"t-option\">Other</label>\n              <div className=\"check\"><div className=\"inside\"></div></div>\n            </li>\n          </ul>\n        </div>\n        <ErrorMessage name=\"gender\" component=\"div\" />\n        <div className=\"form-group fadeIn fadeIn-second\">\n          <label htmlFor=\"DOB\" className=\"label\">Enter Date of Birth</label>\n          <Field type=\"text\" className=\"fadeIn-second\"\n            name=\"date\" placeholder=\"Date Numeric (1 - 31)\" />\n          <ErrorMessage name=\"date\" component=\"div\" />\n          <Field type=\"text\" className=\"fadeIn-second\"\n            name=\"month\" placeholder=\"Month Numeric (1 - 12)\" />\n          <ErrorMessage name=\"month\" component=\"div\" />\n          <Field type=\"text\" className=\"fadeIn-second\"\n            name=\"year\" placeholder=\"Year Numeric (e.g 1998)\" />\n          <ErrorMessage name=\"year\" component=\"div\" />\n          <FormNavigationControl fTitle=\"Next\" bTitle=\"Back\"\n            fToggleFormView={() => {\n              let t = ['gender', 'date', 'month', 'year'].some(el => {\n                return Object.keys(errors).includes(el);\n              });\n              if (t) {\n                toast('You need to provide valid input');\n                return;\n              };\n              // if(Object.keys(errors).length > 0) return;\n              errors = {};\n              toggleInViewPart(3);\n            }}\n            bToggleFormView={() => {\n              toggleInViewPart(1);\n            }} />\n        </div>\n      </div>\n      <div id=\"thirdStepLoanForm\" className={isVisible.call(this, 3)}>\n        <Field type=\"text\" className=\"fadeIn fadeIn-first\"\n          name=\"annualIncome\" placeholder=\"Your Annual Income\" />\n        <ErrorMessage name=\"annualIncome\" component=\"div\" />\n\n        <Field type=\"text\" className=\"fadeIn fadeIn-second\"\n          name=\"loanAmountRequired\" placeholder=\"Loan Amount Required\" />\n        <ErrorMessage name=\"loanAmountRequired\" component=\"div\" />\n\n        <Field type=\"text\" className=\"fadeIn fadeIn-second\"\n          name=\"tenure\" placeholder=\"Tenure(In Days)\" />\n        <ErrorMessage name=\"tenure\" component=\"div\" />\n\n        <button type=\"submit\" className={`button button-large fadeIn-third`}\n          disabled={isSubmitting}>\n          Apply\n        </button>\n\n        <Persist name=\"loan-form\" />\n      </div>\n    </Form>\n  </div>\n)\n\nclass LoanApplicationFormPage extends React.Component {\n\n  state = {\n    inViewPart: 1,\n  }\n\n  componentDidMount() {\n    if (this.props.location.state) {\n      localStorage.setItem('loan-form-id', this.props.location.state.form_id)\n    }\n  }\n\n  toggleInViewPart = (num) => {\n    this.setState({\n      inViewPart: num\n    });\n  }\n\n  isVisible = (num) => {\n    if (num === this.state.inViewPart) {\n      return 'in-view';\n    }\n    return 'off-view';\n  }\n\n  render() {\n    return (\n      <Formik\n        initialValues={\n          {\n            firstname: '',\n            lastname: '',\n            mobile: '',\n            email: '',\n            address: '',\n            gender: '',\n            date: '',\n            month: '',\n            year: '',\n            annualIncome: '',\n            loanAmountRequired: '',\n            tenure: ''\n          }\n        }\n        validate={ErrorChecker}\n        onSubmit={(values, { setSubmitting }) => {\n          let formId = localStorage.getItem('loan-form-id');\n          if (formId) {\n            fetch(`${backendUrl()}/loan/update`, {\n              method: 'POST',\n              mode: 'cors',\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n              },\n              body: JSON.stringify({\n                'data': localStorage.getItem('loan-form'),\n                'status': 1,\n                'id': formId\n              })\n            })\n              .then(res => res.json())\n              .then(data => {\n                if (data['success']) {\n                  toast.info('Data Saved Successfully', {\n                    position: toast.POSITION.BOTTOM_CENTER\n                  });\n                  if (data['token']) {\n                    localStorage.setItem('token', data['token']);\n                  }\n                } else {\n                  toast.info(`Error(${data['msg']}) in saving data, you have been logged out`, {\n                    position: toast.POSITION.BOTTOM_CENTER\n                  });\n                }\n              })\n              .catch(err => {\n                toast('Something went wrong, Internet might be down');\n              });\n          } else {\n            fetch(`${backendUrl()}/loan/apply`, {\n              method: 'POST',\n              mode: 'cors',\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n              },\n              body: JSON.stringify({\n                'data': localStorage.getItem('loan-form'),\n                'status': 1,\n                'user_id': localStorage.getItem('user_id')\n              })\n            })\n              .then(res => res.json())\n              .then(data => {\n                if (data['success']) {\n                  toast.success('Data Saved Successfully');\n                  if (data['token']) {\n                    localStorage.setItem('token', data['token']);\n                  }\n                  setSubmitting(false);\n                  this.props.history.push('/home');\n                } else {\n                  toast.info(`Error(${data['msg']}) in saving data`);\n                  setSubmitting(false);\n                }\n              })\n              .catch(err => {\n                toast.error('Something went wrong, please check your connection');\n                setSubmitting(false);\n              });\n          }\n        }}\n\n        render={props => <FormLayout toggleInViewPart={this.toggleInViewPart}\n          isVisible={this.isVisible} {...props} />}\n      />\n    )\n  }\n};\n\n\nexport default LoanApplicationFormPage;\n"]},"metadata":{},"sourceType":"module"}